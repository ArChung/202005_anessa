"use strict";var formSwiper,pro_ani1,pro_ani2,pro_ani3,ChungTool=ChungTool||{},simpleShow=simpleShow||{},simpleHide=simpleHide||{};function init_base(){{const e="android"==navigator.userAgent.toLowerCase().match(/android/i),n=document.querySelector("meta[name=viewport]");if(e){const e=`target-densitydpi=${600/screen.width*window.devicePixelRatio*160}, width=600, user-scalable=no`;n.setAttribute("content",e)}else n.setAttribute("content","width=600 user-scalable=0")}FastClick.attach(document.body)}function init_simple_ani(){inView(".tempHide").on("enter",e=>{$(e).addClass("show")}).on("exit",e=>{$(e).removeClass("show")})}function init_beauty(){init_beauty_Slider(),init_beauty_animation()}function init_beauty_Slider(){new Swiper(".beauty .swiper-container",{slidesPerView:"auto",loop:!0,loopedSlides:5,grabCursor:!0,speed:800,autoplay:{delay:800}})}function init_beauty_animation(){ChungTool.isPhone()||Motus.addAnimation(new Motus.Animation({$el:$("#beauty-section .textWrap")[0],keyframes:[{translateY:50},{translateY:-60}]}))}function init_form(){initEventBtn(),init_form_slider()}function initEventBtn(){const e=$("#top-btn"),n=$("#event-btn");inView("#form-section").on("enter",()=>{n.removeClass("show"),setTimeout(()=>{e.addClass("show")},600)}).on("exit",t=>{e.removeClass("show"),setTimeout(()=>{n.addClass("show")},600)}),e.click(()=>{ChungTool.pageScrollAni(0)}),n.click((function(){ChungTool.pageScrollAni($("#form-section").offset().top-100),slideout.close()}))}function init_form_slider(){formSwiper=new Swiper("#form-section .swiper-container",{speed:600,allowTouchMove:!1,spaceBetween:40,on:{slideChangeTransitionStart:()=>{ChungTool.pageScrollAni($("#form").offset().top-120)}}}),$("#form-section")}function form_next(){formSwiper.slideNext()}function form_prev(){formSwiper.slidePrev()}function init_header(){}function init_index(){init_index_video(),init_index_intro(),waitIndexImgs()}function init_index_video(){if(ChungTool.isPhone())return;const e=$("#index-video-bg")[0];let n=!1;e.ontimeupdate=()=>{e.currentTime>1.7&&!n&&($("#event-btn").addClass("show"),n=!0)},e.onended=()=>{e.currentTime=1.7,e.play()},e.play()}function init_phone_eventBtn_position(){ChungTool.isPhone()&&(window.onscroll=function(){if(window.pageYOffset<100){if($("#event-btn").hasClass("in-index"))return;const e=$("#index-section").height(),n=document.documentElement.clientHeight,t=$("#header").height(),o=$("#event-btn").height();n>e+o/3+t&&$("#event-btn")[0].setAttribute("style",`top:${(e+t)/n*100}%; margin-top: ${o/3}px;`),$("#event-btn").addClass("in-index")}else $("#event-btn").css({top:"100%","margin-top":"0px"}),$("#event-btn").removeClass("in-index")},$("#event-btn").addClass("show"),$(window).scroll())}function waitIndexImgs(){$("#index-section").imagesLoaded({background:"div"}).done((function(e){index_play_intro(),init_phone_eventBtn_position()})).progress((function(e,n){}))}function init_index_intro(){ChungTool.isPhone()||gsap.set("#index-section .aniTxt,#index-section .aniTxt2",{scale:2.5,opacity:0})}function index_play_intro(){if(ChungTool.isPhone())return;let e=0;$(".aniTxt").each((n,t)=>{e=2===n?e+.6:e+.2,function(e,n=0){(new gsap.timeline).to(e,{delay:n,scale:1,opacity:1,duration:.5,ease:"power2.in"}).to(e,{x:"+=8",y:"+=1",repeat:8,duration:.02,yoyo:!0})}($(t),e)})}function init_ingredient(){init_ingredient_video(),init_ingredient_animation()}function init_ingredient_video(){const e=$("#ingredient-video")[0];e.load(),inView("#ingredient-section .videoBox").on("enter",()=>{}).on("exit",()=>{e.paused||e.pause()}),e.onpause=()=>{$("#ingredient-section .videoPlayBtn").addClass("show")},e.onplay=()=>{$("#ingredient-section .videoPlayBtn").removeClass("show")},$("#ingredient-section .videoPlayBtn").click((function(){e.paused?e.play():e.pause()}))}function init_ingredient_animation(){ChungTool.isPhone()||(Motus.addAnimation(new Motus.Animation({$el:$("#ingredient-section .textWrap")[0],keyframes:[{translateY:50}]})),Motus.addAnimation(new Motus.Animation({$el:$("#ingredient-section .videoWrap")[0],keyframes:[{translateY:100},{translateY:-100}]})),Motus.addAnimation(new Motus.Animation({$el:$("#ingredient-section")[0],keyframes:[{backgroundPositionY:0},{backgroundPositionY:100}]})))}function init_ingredient2(){init_ingredient2_animation()}function init_ingredient2_animation(){ChungTool.isPhone()}!function(){function e(){return!!navigator.userAgent.match(/(iPod|iPhone|iPad)/)}function n(e){return void 0===e}function t(){var e=document.getElementById("share-a-tag");return null===e&&((e=document.createElement("a")).style="display: none;",e.id="share-a-tag",e.target="_blank",document.getElementsByTagName("body")[0].appendChild(e)),e}function o(e){e.preventDefault(),e.stopPropagation()}ChungTool.openGoogleApp=function(n){var o=t();e()?o.href="comgooglemaps://?q="+encodeURIComponent(n):o.href="https://maps.google.com/?q="+encodeURIComponent(n),o.click()},ChungTool.checkIdle=function(e,n,t){idleTimer=null,idleState=!1,idleWait=e,$("*").bind("touchend touchmove touchstart",(function(){clearTimeout(idleTimer),1==idleState&&t(),idleState=!1,idleTimer=setTimeout((function(){n(),idleState=!0}),idleWait)})),$("body").trigger("touchend")},ChungTool.scrollReachTop=function(e){return 0==e.scrollTop()},ChungTool.scrollReachEnd=function(e){return e.scrollTop()+e.innerHeight()>=e[0].scrollHeight},ChungTool.isIe=function(){return window.navigator.userAgent.indexOf("MSIE ")>0||!!navigator.userAgent.match(/Trident.*rv\:11\./)},ChungTool.addWheelEvent=function(e,n,t){/Firefox/i.test(navigator.userAgent);var o=!0,i=null;e.mousewheel((function(e){i&&(clearTimeout(i),i=null),i=setTimeout((function(){i=null,o=!0}),100),o&&(o=!1,e.deltaY>0?n():t())}))},ChungTool.addSwipeUpDownEvent=function(e,n,t){var o,i,a=e;a.get(0).addEventListener("touchstart",(function(e){if(1!=e.targetTouches.length)return!1;o=i=e.targetTouches[0].pageY}),!1),a.get(0).addEventListener("touchmove",(function(e){if(e.preventDefault(),1!=e.targetTouches.length)return!1;i=e.targetTouches[0].pageY,a.css("margin-top",i-o)}),!1),a.get(0).addEventListener("touchend",(function(e){a.css("margin-top",0),i-o>100?n():i-o<-100&&t()}))},ChungTool.windoePosTop=function(){return void 0!==window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0},ChungTool.lockScroll=function(){var e=[self.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,self.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop],n=jQuery("body");n.data("scroll-position",e),n.data("previous-overflow",n.css("overflow")),n.css("overflow","hidden"),window.scrollTo(e[0],e[1]),$(document.body).on("touchmove",o)},ChungTool.unLockScroll=function(){var e=jQuery("body"),t=e.data("scroll-position");n(t)||(e.css("overflow",e.data("previous-overflow")),window.scrollTo(t[0],t[1]),$(document.body).off("touchmove",o))},ChungTool.isPhone=function(){return new RegExp("Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile","i").test(navigator.userAgent)},ChungTool.pageScrollAni=function(e){(window.opera?"CSS1Compat"==document.compatMode?$("html"):$("body"):$("html,body")).animate({scrollTop:e},800)},ChungTool.shareToLine=function(e){var n=t();n.href="http://line.naver.jp/R/msg/text/?"+encodeURIComponent(e),n.click()},ChungTool.getAtagElement=t,ChungTool.int=function(e){return parseInt(e,10)},ChungTool.replayCssAni=function(e,n){e.removeClass(n),e.offset().width=e.offset().width,e.addClass(n)},ChungTool.getDivBgImage=function(e){return e.css("background-image").replace(/^url\(['"]?/,"").replace(/['"]?\)$/,"")},ChungTool.addYouTube=function(e,n){e.empty().append('<iframe allowfullscreen="" frameborder="0" height="100%" width="100%" src="http://www.youtube.com/embed/'+n+'?rel=0&autoplay=1"></iframe>')},ChungTool.maxlengthInpout=function(e,n){e.on("keyup",(function(){var e=n,t=$(this).val();if(t.length>e){var o=t.substr(0,e);$(this).val(o)}}))},ChungTool.txtByteLength=function(e){return null==e?0:("string"!=typeof e&&(e+=""),e.replace(/[^\x00-\xff]/g,"01").length)},ChungTool.removeClassWithFilter=function(e,n){e.each((function(e,t){var o=t.className.split(" ").filter((function(e){return 0!==e.lastIndexOf(n,0)}));t.className=$.trim(o.join(" "))}))},ChungTool.returnClassNameWithFilter=function(e,n){var t;return e.each((function(e,o){t=o.className.split(" ").filter((function(e){return 0==e.lastIndexOf(n,0)}))})),$.each(t,(function(e,o){t[e]=o.replace(n,"")})),t},ChungTool.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},ChungTool.addSwipeEvent=function(e,n,t){var o,i;e.get(0).addEventListener("touchstart",(function(e){if(1!=e.targetTouches.length)return!1;o=e.targetTouches[0].pageX}),!1),e.get(0).addEventListener("touchmove",(function(e){if(e.preventDefault(),1!=e.targetTouches.length)return!1;i=e.targetTouches[0].pageX}),!1),e.get(0).addEventListener("touchend",(function(e){i-o>60?t():i-o<-60&&n()}))},ChungTool.initLimitText=function(){$(".limitTxt").each((function(){var e=$(this),t=parseInt(e.attr("data-limitTxtNum"),10),o="true"==e.attr("data-showBtn");if(!n(t)){var i=e.text();if((i=(i=i.replace(/ {2,}/g," ")).replace(/\n\s*\n/g,"\n")).length>t){var a='<span class="hide">'+i.substr(t,i.length)+'</span><a href="#" class="seeMoreContentBtn">more</a>';i=i.substr(0,t)+'<i class="dot"> ...</i>',o&&(i+=a),e.html(i)}}})),$(".seeMoreContentBtn").on("click",(function(e){e.preventDefault(),$(this).addClass("hide").siblings(".hide").removeClass("hide").siblings(".dot").addClass("hide")}))},ChungTool.getUrlParameter=function(e){var n,t,o=decodeURIComponent(window.location.search.substring(1)).split("&");for(t=0;t<o.length;t++)if((n=o[t].split("="))[0]===e)return void 0===n[1]||n[1]},ChungTool.isOnline=function(){return"file:"!=window.location.protocol},ChungTool.isNull=n,ChungTool.isIOS=e,simpleShow=function(e,t){n(t)&&(t=.3),e.each((function(){var e=$(this);e.removeClass("hide"),TweenMax.killTweensOf(e),(new TimelineMax).set(e,{autoAlpha:0}).to(e,t,{autoAlpha:1})}))},simpleHide=function(e,t){n(t)&&(t=.3),e.each((function(){var e=$(this),n=new TimelineMax;TweenMax.killTweensOf(e),n.to(e,t,{autoAlpha:0}).call((function(){e.addClass("hide")}))}))}}(),init_base(),inView.offset(150),$(document).ready(()=>{init_sider(),init_index(),init_beauty(),init_products(),init_form(),init_ingredient(),init_ingredient2(),init_header(),init_simple_ani()});var slideout,links=[{s1:"https://jbeauty.com.tw/P448l8",s2:"https://jbeauty.com.tw/sQ9UK4",s3:"https://jbeauty.com.tw/BT2djY"},{s1:"https://jbeauty.com.tw/q7P5QL",s2:"https://jbeauty.com.tw/7D7ILG",s3:"https://jbeauty.com.tw/gFZwYf"},{s1:"https://jbeauty.com.tw/4JU1iQ",s2:"https://jbeauty.com.tw/hvZhyc",s3:"https://jbeauty.com.tw/QOPX4e"}];function init_products(){init_products_Slider(),init_products_animation(),init_product_store_link()}function init_product_store_link(){$("#products-section .productWrap .store-link").click(e=>{e.preventDefault();var n=$(e.currentTarget).attr("data-link-id");$("#modal .store-btn").each((e,t)=>{$(t).attr("href",links[n]["s"+(e+1)])}),$("#modal").modal({fadeDuration:200})})}function init_products_Slider(){new Swiper(".products .swiper-container",{navigation:{nextEl:".products .swiper-btn-next",prevEl:".products .swiper-btn-prev"},breakpoints:{0:{slidesPerView:1},1e3:{slidesPerView:2},1300:{slidesPerView:3}}})}function init_products_animation(){$("#products-section .pro-title .txt").lettering(),create_pro_Ani(1),create_pro_Ani(2),create_pro_Ani(3),inView("#products-section .swiper-slide").on("enter",e=>{const n=$(e).index()+1;window["pro_ani"+n].play()}).on("exit",e=>{const n=$(e).index()+1;window["pro_ani"+n].pause(0)})}function create_pro_Ani(e){window["pro_ani"+e]=new gsap.timeline({paused:!0,delay:.1});let n=$("#products-section .pro-"+e);window["pro_ani"+e].from(n.find(".pro-title .txt > span"),{y:"+=80",x:"+=20",rotate:"20deg",duration:.6,stagger:.08,opacity:0,ease:"back.out"},"title-in").from(n.find(".pro-title .icon-x"),{duration:.6,opacity:0},"title-in+=.6").from(n.find(".second-ani"),{stagger:.15,opacity:0,duration:.6,y:"+=30"},"-=.8").from(n.find(".badge"),{scale:1.8,opacity:0,duration:.6},"-=.6")}function init_sider(){init_sider_component(),init_sider_menuBtn()}function init_sider_component(){slideout=new Slideout({panel:$(".panel")[0],menu:document.getElementById("menu"),padding:320,tolerance:70}),document.querySelector(".header .menuBtn").addEventListener("click",(function(){slideout.toggle()}));var e=document.querySelector(".header");function n(e){e.preventDefault(),slideout.close()}slideout.on("translate",(function(n){e.style.transform="translateX("+n+"px)"})),slideout.on("beforeopen",(function(){e.style.transition="transform 300ms ease",e.style.transform="translateX(320px)",this.panel.classList.add("panel-open"),$(".header .menuBtn").addClass("cloz")})),slideout.on("beforeclose",(function(){e.style.transition="transform 300ms ease",e.style.transform="translateX(0px)",this.panel.classList.remove("panel-open"),this.panel.removeEventListener("click",n),$(".header .menuBtn").removeClass("cloz")})),slideout.on("open",(function(){e.style.transition="",this.panel.addEventListener("click",n)})),slideout.on("close",(function(){e.style.transition=""}))}function init_sider_menuBtn(){$("#menu li").click(e=>{var n=$(e.currentTarget);const t=$(`#${n.attr("data-url")}-section`);ChungTool.pageScrollAni(t.offset().top-100),slideout.close()})}
//# sourceMappingURL=all.js.map
